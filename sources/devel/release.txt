********
Releases
********

Before creating a release, the version number needs to be updated in
`phynx/version.py`. Then Phynx needs to be installed either with::

  python setup.py install

or::

  python setup.py develop

in order proceed with building the release, so the package version
numbers will be advertised correctly for the installers and the
documentation.


Creating Source Releases
========================

Phynx is distributed as a source release for Linux and OS-X. To create
a source release, just do::

  python setup.py register
  python setup.py sdist --formats=zip,gztar upload --sign

This will create the tgz source file and upload it to the Python
Package Index. Uploading to PyPI requires a .pypirc file in your home
directory, something like::

  [server-login]
  username: <username>
  password: <password>

You can create a source distribution without uploading by doing::

  python setup.py sdist --formats=zip,gztar upload --sign

This creates a source distribution in the `dist/` directory.


Creating Windows Installers
===========================

Open a DOS window, cd into the phynx source directory and run::

  python setup.py bdist_msi upload --sign


Building Phynx documentation
============================

When publishing a new release, the Phynx doumentation needs to be
generated and published as well::

  cd doc
  make html
  sphinxtogithub _build/html

which will produce the html output and save it in :file:`_build/sphinx/html`.

To upload the documentation to the phynx project page::

  cd ..
  cp -r _build/html ..
  git checkout gh-pages
  cp -rf ../html/* .
  git add .
  git commit -a -m "update documentation for version x"
  git push

It may take a few minutes for the documentation_ to update.

.. _documentation: darrendale.github.com/phynx
